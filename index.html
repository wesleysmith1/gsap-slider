<!doctype html>
<html>
<head>
<title>GSAP range slider</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/Draggable.min.js"></script>
<meta name="description" content="Our first page">
<meta name="keywords" content="html tutorial template">
<style>
    #slider {
        background: blue;
        height: 50px;
        width: 500px;
        border-radius: 25px;;
    }
    #thumb {
        background: grey;
        height: 50px;
        width: 50px;
        border-radius: 25px;
        position: relative;
        bottom: 50px;
    }
    #left {
        background: red;
        border-radius: 25px;
        width: 200px;
        height: 50px;
    }
</style>
</head>
<body>
<h1>drag the slider</h1>
<div id="slider">
    <div id="left"></div>
    <div id="thumb" style="transform: translate3d(150px, 0px, 0px);"></div>
</div>
<script>
    let sliderWidth = 450
    function updateScaleColor(x) {
        document.getElementById("left").style.width = x + 50 + "px";
    }
    function setScale(x) {
        // convert input from 0-100 to size of scale
        let convertedValue = Math.round(x/100*sliderWidth)

        // updated left background color
        updateScaleColor(convertedValue)

        TweenLite.set('#thumb',{x:convertedValue+"px"});

        draggable[0].update();
    }
    let draggable = Draggable.create(
        "#thumb", 
        {
            bounds:"#slider", 
            onDrag: function() {
                updateScaleColor(this.x)
            },
            onDragEnd: function() {
                setScale(Math.round(this.x/sliderWidth*100))
            }
        });

        setScale(50)
</script>
</body>
</html>